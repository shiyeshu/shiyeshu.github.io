$((function(){const t="#kratos-blog-post .row";theTop=notMobile?$("#kratos-blog-post").offset().top-40:0,window.addEventListener("popstate",(n=>{n.state&&(document.title=n.state.title||document.title,$("body,html").animate({scrollTop:theTop},600),void 0===n.state.html?o(n.state.url,!1):$(t).html(n.state.html),OriginTitile=document.title,window.dispatchEvent(e.complete))}));const e={before:new Event("pjax:before"),success:new Event("pjax:success"),complete:new Event("pjax:complete"),error:new Event("pjax:error")};function o(o,n){$.ajax({url:o,beforeSend:function(){window.dispatchEvent(e.before),"undefined"!=typeof load_comm&&null!==load_comm&&(load_comm=null),history.replaceState({url:location.href,title:document.title,html:$(document).find(t).html()},document.title,location.href),$("body,html").animate({scrollTop:theTop},600),NProgress.start()},success:function(l){window.dispatchEvent(e.success),void 0===$(l).find(t).html()?location.href=o:$(t).html($(l).find(t).html()),document.title=$(l).filter("title").text(),n&&window.history.pushState({url:o,title:$(l).filter("title").text(),html:$(l).find(t).html()},$(l).filter("title").text(),o)},complete:function(){window.dispatchEvent(e.complete),OriginTitile=document.title,NProgress.done();const t=o.match(/\#.+$/);t&&$("body,html").animate({scrollTop:$(t[0]).offset().top-40},600)},timeout:6e3,error:function(){window.dispatchEvent(e.error),location.href=o}})}$(document).on("click","a[target!=_blank][rel!=gallery][class!=toc-link]",(function(){const t=$(this).attr("href");return void 0===t||(!!t.includes("javascript:")||(o(decodeURI(t),!0),!1))}))}));